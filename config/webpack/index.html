<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../favicon.ico">
  
  <title>Webpack - Particle Docs</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Webpack";
    var mkdocs_page_input_path = "config/webpack.md";
    var mkdocs_page_url = "/config/webpack/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Particle Docs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Overview</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../appendix/system-requirements/">Getting Started</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../appendix/commands/">Commands</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../appendix/architecture/">Architecture</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Config</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../general/">General</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Webpack</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#webpack">Webpack</a></li>
    

    <li class="toctree-l3"><a href="#webpack-dev-server">Webpack dev server</a></li>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../gulpfile/">Gulp</a>
                </li>
                <li class="">
                    
    <a class="" href="../sass/">Sass</a>
                </li>
                <li class="">
                    
    <a class="" href="../linting/">Linting</a>
                </li>
                <li class="">
                    
    <a class="" href="../testing/">Testing</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Apps</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../apps/pl/">Pattern Lab</a>
                </li>
                <li class="">
                    
    <a class="" href="../../apps/drupal/">Drupal</a>
                </li>
                <li class="">
                    
    <a class="" href="../../apps/grav/">Grav</a>
                </li>
                <li class="">
                    
    <a class="" href="../../apps/general/">Adding or Removing</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../faq/">FAQ</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../appendix/">Appendix</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Particle Docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Config &raquo;</li>
        
      
    
    <li>Webpack</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="webpack">Webpack</h1>
<p>Webpack does the heavy lifting of assets compilation and transformation. Webpack allows importing of Sass, images, fonts, and other assets into javascript files, bundling output files like CSS and javascript. There are three webpack config files:</p>
<ul>
<li><code>webpack.shared.config.js</code> The majority of loader and plugin configuration related to source/</li>
<li><code>webpack.drupal.config.js</code> Configuration specific to apps/drupal</li>
<li><code>webpack.pl.config.js</code> Configuration specific to apps/pl</li>
</ul>
<p>The <code>pl</code> and <code>drupal</code> configurations import the <code>shared</code> configuration, providing app-specific customizations. You are encouraged to read through all three files to understand how assets are parsed and prepared. New apps can be added in a similar manner.</p>
<h1 id="webpack-dev-server">Webpack dev server</h1>
<p>Running <code>npm start</code> compiles Pattern Lab, compiles all asset bundles, then starts a hot reloading webpack dev server. </p>
<p>All static html files generated by Pattern Lab will be served at http://0.0.0.0/pl and all modifications to assets on the dependency chain will be automatically injected into the browser. </p>
<p>This means that you can work on Sass and javascript, the bundle will recompile, and the browser will reload rapidly. Pattern Lab html regeneration from Twig file changes triggers a hard-refresh of the Webpack dev server browser.</p>
<p>The Webpack dev server also features proxying css and javascript assets into a running local Drupal site. This means that these assets can avoid Drupal caching and provide hot reloading while working in Drupal. Write up coming soon.</p>
<pre><code class="js">/**
 * Webpack config and setup.
 */
// Import webpack config for PL
const wpconfig = require('./webpack.pl.config');
// Webpack Dev Server config used for local development. See all available config options:
// https://webpack.js.org/configuration/dev-server/#devserver
const serverconfig = {
  host: '0.0.0.0',
  port: '8080',
  contentBase: path.resolve(__dirname, 'dist/'), // dev server starts from this folder.
  hot: true, // Inject css/js into page without full refresh
  historyApiFallback: true, // Finds default index.html files at folder root
  inline: true, // Injects all the webpack dev server code right in the page
  stats: {
    colors: true, // Colored terminal output.
    hash: true,
    version: true,
    timings: false,
    assets: true,
    chunks: false,
    modules: false,
    reasons: true,
    children: false,
    source: true,
    errors: true,
    errorDetails: true,
    warnings: true,
    publicPath: true,
  },
};
// Hold a webpack dev server that we can start and reload
const devserver = require('./tools/tasks/webpack-dev-server');
</code></pre>

<p>Feel free to change the stats as needed until webpack outputs what you want. This is a decent amount of information for both clean &amp; broken compiles, but you may want more or less.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../gulpfile/" class="btn btn-neutral float-right" title="Gulp">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../general/" class="btn btn-neutral" title="General"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../general/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../gulpfile/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../js/theme.js"></script>

</body>
</html>
